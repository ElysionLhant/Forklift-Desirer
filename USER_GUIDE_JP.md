# Forklift Desirer (フォークリフト・デザイラー) ユーザーガイド

Forklift Desirer は、実世界の物理制約（フォークリフトの動き、積み付けルールなど）を考慮した、高精度なコンテナ積み付けシミュレーションソフトです。

本ガイドでは、リリース版（ビルド済みアプリケーション）の基本的な使い方を説明します。

---

## 1. インストール・起動方法

1.  配布されたフォルダ内の `Forklift Desirer.exe` をダブルクリックして起動します。
    *   インストールは不要です（ポータブル版の場合）。
    *   セットアップ版の場合は、インストーラーの指示に従ってください。

---

## 2. 貨物データの入力 (Cargo Input)

画面左側のパネルで貨物を登録します。3つの方法があります。

### 方法 A: 手動入力 (Manual)
1.  **Name**: 貨物名を入力（例: `Engine Part A`）。
2.  **Dimensions**: 長さ(Length)、幅(Width)、高さ(Height) を **cm（センチメートル）** 単位で入力します。
3.  **Weight**: 重量を **kg** で入力します。
4.  **Quantity**: 個数を入力します。
5.  **Unstackable**: この上に物を積んではいけない場合（段積み不可）はチェックを入れます。
6.  `+` ボタンを押してリストに追加します。

### 方法 B: デモデータのロード (Demo)
1.  リストの上にある "**Demo**" ボタンをクリックします。
2.  大型機械や部品箱を含むサンプルデータ（約140立方メートル分）が自動入力されます。動作確認に便利です。

### 方法 C: AIによる自動抽出 (AI Extraction) - 推奨 ✨
面倒なデータ入力をAIに任せることができます。

1.  画面右下のメッセージ欄にあるクリップアイコン📎をクリックするか、**画像を直接ドラッグ＆ドロップ**します。
    *   対応ファイル: 装箱指示書（パッキングリスト）のスクリーンショットや写真。
2.  または、Excelやメールのテキストをコピーしてメッセージ欄に貼り付けます。
3.  AIが自動的に貨物名、サイズ、数量を解析します。
4.  解析に成功すると、画面上部に緑色の「解析結果の適用 (Import Identified Cargo?)」パネルが表示されます。
5.  `Apply` をクリックすると、左側のリストに一括登録されます。

---

## 3. 計算実行 (Calculate)

1.  画面左下の "**Strategy Mode**" を選択します（通常は `Smart Mix` でOK）。
    *   **Smart Mix**: 貨物量に応じて、最適なコンテナの種類（40HC x 2本など）を自動計算します。
    *   **20GP / 40GP / 40HQ**: 指定したコンテナ1本にどれだけ入るかを試算します。
2.  `CALCULATE LOADING PLAN` ボタンをクリックします。
3.  計算が始まります。
    *   **高速化**: 最新版ではアルゴリズムが最適化されており、数千個のアイテムでも数秒で計算が完了します。

---

## 4. 結果の確認 (Visualization)

計算が終わると、画面中央に3Dビューが表示されます。

### 3Dビューの操作
*   **回転**: マウスの左ボタンをドラッグ
*   **移動**: マウスの右ボタンをドラッグ
*   **ズーム**: マウスホイールをスクロール

### 再生コントロール (Animation)
画面下部のコントロールバーで、積み付け手順のアニメーションを操作できます。

*   `▶` / `||`: 再生 / 一時停止
*   `⏮`: 最初に戻る
*   `⏭`: アニメーションをスキップして最終結果を表示
*   `<` `>`: 複数のコンテナがある場合、コンテナを切り替えます。

### データの確認
*   画面下部に、容積充填率 (Volume Utilization) と 重量充填率 (Weight Utilization) が表示されます。

---

## 5. 設定 (Settings)

右上の歯車アイコン⚙️から設定メニューを開けます。

*   **AI Provider**: 使用するAIサービスを選択します。
    *   **Ollama**: ローカルで動作するAI（無料・高速・プライバシー安全）。PCにOllamaがインストールされている必要があります。
    *   **OpenAI / LM Studio**: 外部のAPIを使用する場合に設定します。

---

## よくある質問 (FAQ)

**Q. 計算が止まってしまいます。**
A. 貨物のサイズがコンテナより大きい場合や、物理的に搬入不可能なサイズの場合、計算が失敗することがあります。サイズ単位（cm）を確認してください。

**Q. "Unstackable" とは何ですか？**
A. 「段積み不可」という意味です。このチェックがついた荷物の上には、他の荷物を積むことができません（天井まで空間が確保されます）。

**Q. 画像認識がうまくいきません。**
A. 画像内のテキストが鮮明であることを確認してください。また、表形式のデータであれば、Excelからテキストとしてコピー＆ペーストする方が精度が高い場合があります。
